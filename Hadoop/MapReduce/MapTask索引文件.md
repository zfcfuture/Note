## MapTask索引文件

每一个MapTask，数据在经过环形缓冲区后，都会溢写到磁盘上，溢写过程可以是一次，也可以是多次，最后这些溢写的文件会Merge成两个文件：数据文件+索引文件

索引文件中记录了各个分区在数据文件中的偏移

一个自然的问题就是既然有了数据文件，为什么还需要这个索引文件？

原因在于，Map端溢写出来的数据涵盖了多个分区，而在最后各个Reduce任务中，需要将其需要的分区数据从Map端拉取过来，这就引发了一个问题，Reduce该如何找这些数据？如果没有索引文件，那么Map端溢写时就要用多个独立的文件来存储不同的分区数据，这势必会占用多个HDFS的索引资源；但当我们用索引文件来标识各个分区的数据在总的数据文件中的偏移量来读取不同分区的数据，只需读取两个文件即可。